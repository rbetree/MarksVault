# MarksVault 开发计划

## 项目概述

MarksVault是基于Chrome扩展Manifest V3规范的高级书签管理扩展，提供强大的书签管理、同步和自动化功能。

### 项目目标
- 增强书签管理（智能分类、批量操作、高级搜索）
- 通过GitHub实现安全备份和跨设备同步
- 提供自动化任务系统
- 简洁直观的用户界面

### 技术栈
- 前端: React.js 18, Material-UI 5, TypeScript 4.9+
- 状态管理: React Context API + Hooks
- 存储与同步: Chrome Storage API, GitHub API
- 浏览器API: Bookmarks, Identity, Alarms
- 构建工具: Webpack 5, ESLint, Jest

## 开发环境搭建

- 项目初始化（目录结构、配置文件）
- 开发环境配置（依赖安装、热重载、调试）
- 架构设计（目录结构、组件层次、状态管理）

## 渐进式开发策略

- **用户价值流导向**：按端到端用户价值横向切片功能
- **持续集成与部署**：每个功能完成后立即测试集成

## 用户价值流开发计划

### 价值流1: 基础书签管理 (优先级: 最高)

| ID | 任务描述 | 依赖 | 状态 |
|----|---------|-----|------|
| V1.1 | 基础UI框架和导航结构 | - | 已完成 |
| V1.2 | 浏览器书签导入功能 | V1.1 | 已完成 |
| V1.3 | 书签列表显示 | V1.2 | 已完成 |
| V1.4 | 基础书签编辑功能 | V1.3 | 已完成 |
| V1.5 | 错误处理和状态提示 | V1.4 | 已完成 |
| V1.6 | 本地存储保存功能 | V1.4 | 已完成 |



### 价值流2: 组织与结构 (优先级: 高)

| ID | 任务描述 | 依赖 | 状态 |
|----|---------|-----|------|
| V2.1 | 书签图标网格显示（可以在列表显示和网格显示中切换） | V1.3 | 已完成 |
| V2.2 | 文件夹创建与管理 | V2.1 | 已完成 |
| V2.3 | 基础拖拽功能 | V2.1 | 已完成 |
| V2.4 | 批量操作功能 | V2.1 | 待开始 |
| V2.5 | 文件夹交互体验优化 | V2.2, V2.3 | 待开始 |
| V2.6 | 基础搜索功能 | V2.1 | 待开始 |



### 价值流3: 基础云同步(github仓库) (优先级: 高)

| ID | 任务描述 | 依赖 | 状态 |
|----|---------|-----|------|
| V3.1 | GitHub认证流程(让用户手动填入)(相关控件应该放在同步页中) | V1.6 | 已完成 |
| V3.2 | 基础手动上传备份功能 | V3.1, V3.2 | 已完成 |
| V3.3 | 基础手动下载恢复功能 | V3.3 | 已完成 |
| V3.4 | 同步状态指示器 | V3.3, V3.4 | 待开始 |



### 价值流4: 标签与高级组织 (优先级: 中)

| ID | 任务描述 | 依赖 | 状态 |
|----|---------|-----|------|
| V4.1 | 标签系统 | V2.8 | 待开始 |
| V4.2 | 标签管理界面 | V4.1 | 待开始 |
| V4.3 | 基于标签的筛选功能 | V4.1 | 待开始 |
| V4.4 | 批量标签操作 | V4.2, V4.3 | 待开始 |
| V4.5 | 智能分组功能 | V4.3 | 待开始 |
| V4.6 | 收藏和快速访问功能 | V4.1 | 待开始 |


### 价值流5: 高级搜索与过滤 (优先级: 中)

| ID | 任务描述 | 依赖 | 状态 |
|----|---------|-----|------|
| V5.1 | 增强搜索引擎功能 | V2.6 | 待开始 |
| V5.2 | 高级过滤UI | V5.1 | 待开始 |
| V5.3 | 全文检索功能 | V5.1 | 待开始 |
| V5.4 | 搜索结果排序选项 | V5.1 | 待开始 |
| V5.5 | 搜索历史功能 | V5.1 | 待开始 |
| V5.6 | 搜索结果导出功能 | V5.4 | 待开始 |


### 价值流6: 自动化任务功能 (优先级: 中)

>相关ui位于弹出界面的任务页

#### 集合1: 基础定时任务功能（最小可用产品）
| ID | 任务描述 | 依赖 | 状态 |
|----|---------|-----|------|
| V6.1 | 任务数据结构设计 | V1.6 | 已完成 |
| V6.2 | 任务存储服务开发 | V6.1 | 已完成 |
| V6.3 | 基础任务UI组件开发 | V6.1, V1.1 | 已完成 |
| V6.4 | 任务列表页面实现 | V6.3 | 已完成 |
| V6.5 | 任务创建/编辑表单 | V6.4 | 已完成 |
| V6.6 | 基于时间的触发器实现 (Alarms API) | V6.2 | 已移除，不需要了 |
| V6.8 | 任务执行引擎核心 | V6.2, V6.6 | 已完成 |
| V6.9 | 常见任务操作实现: 上传备份/下载恢复 | V6.8, V3.2 | 已完成 |
| V6.13 | 任务启用/禁用功能 | V6.4, V6.8 | 已完成 |

#### 集合2: 增强触发器与操作
| ID | 任务描述 | 依赖 | 状态 |
|----|---------|-----|------|
| V6.7 | 基于事件的触发器实现 | V6.6 | 已完成 |
| V6.10 | 常见任务操作实现: 书签整理 | V6.8, V2.4 | 待开始 |
| V6.11 | 任务执行状态跟踪 | V6.8 | 待开始 |
| V6.12 | 任务执行结果通知 | V6.11 | 待开始 |
| V6.11 | 自定义操作类型开发为同步书签到另一个项目的书签页 | V6.8 | 待开始 |

#### 集合3: 高级功能与便利性
| ID | 任务描述 | 依赖 | 状态 |
|----|---------|-----|------|
| V6.14 | 任务历史记录 | V6.11 | 待开始 |
| V6.15 | 预定义任务模板 | V6.5, V6.9, V6.10 | 待开始 |


### 价值流7: 性能优化与体验提升 (优先级: 高)

| ID | 任务描述 | 依赖 | 状态 |
|----|---------|-----|------|
| V7.1 | 性能分析与基准测试 | V1.8-V7.8 | 待开始 |
| V7.2 | 大量书签加载性能优化 | v7.1 | 待开始 |
| V7.3 | 虚拟滚动和延迟加载 | v7.1 | 待开始 |
| V7.4 | 搜索和过滤性能优化 | v7.1, V5.8 | 待开始 |
| V7.5 | 动画和过渡效果完善 | v7.1 | 待开始 |
| V7.6 | 无障碍性优化 | v7.1 | 待开始 |



### 价值流9: 部署与发布准备 (优先级: 中)

| ID | 任务描述 | 依赖 | 状态 |
|----|---------|-----|------|
| V9.1 | 安全审计 | v7.8 | 待开始 |
| V9.2 | 应用商店发布材料 | - | 待开始 |
| V9.3 | 用户文档编写 | v7.8 | 待开始 |
| V9.4 | 用户反馈收集系统 | - | 待开始 |
| V9.5 | 项目官方网站 | V9.2 | 待开始 |
| V9.6 | 版本更新机制 | - | 待开始 |
| V9.7 | 最终兼容性测试 | v7.8 | 待开始 |
| V9.8 | 最终发布包优化 | V9.1-V9.7 | 待开始 |



## 特性开关

### 特性开关实施
| ID | 任务描述 | 依赖 |
|----|---------|-----|
| F1.1 | 特性开关架构设计 | V1.1 |
| F1.2 | 本地特性开关控制 | F1.1 |
| F1.3 | 特性管理界面 | F1.2 |
| F1.4 | 远程控制能力 | F1.3, V3.3 |
| F1.5 | A/B测试支持 | F1.4 |


## 质量保证与反馈

### 持续集成与部署
- **测试策略**: 组件单元测试 → 价值流集成测试 → 迭代端到端测试
- **部署流水线**: 提交自动部署 → 价值流部署 → 迭代发布
- **质量指标**: 代码覆盖率≥80%、静态分析100%通过、性能基准达标

## 风险评估

| 风险 | 影响 | 可能性 | 缓解策略 |
|-----|-----|--------|---------|
| 特性依赖冲突 | 高 | 中 | 特性开关机制，明确依赖链 |
| 用户反馈导致方向调整 | 高 | 中 | 早期反馈，保持架构灵活性 |
| 性能问题 | 中 | 高 | 早期基准测试和负载测试 |
| CI/CD流程中断 | 中 | 低 | 稳健流程，快速回滚机制 |
| Chrome API限制变更 | 高 | 中 | 灵活API调用层，密切关注文档 |
| GitHub API限制 | 高 | 低 | 请求限制管理，备用方案 |
| 渐进发布引入不稳定 | 高 | 中 | 回归测试，特性开关控制风险 |


开发进程中随时更新状态并调整计划。 